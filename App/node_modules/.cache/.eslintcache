[{"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\index.js":"1","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\App.js":"2","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\Dashboard.js":"3","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\Login.js":"4","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\Register.js":"5","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\LoanApplication.js":"6","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\AllLoan.js":"7","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\service.js":"8","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\common\\common.js":"9","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\common\\AdminHeader.js":"10","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\reportWebVitals.js":"11","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\RepayLoan.js":"12","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\common\\UnauthorisedAccess.js":"13"},{"size":323,"mtime":1704042507757,"results":"14","hashOfConfig":"15"},{"size":1565,"mtime":1704162866636,"results":"16","hashOfConfig":"15"},{"size":2266,"mtime":1704164407147,"results":"17","hashOfConfig":"15"},{"size":2357,"mtime":1704044803654,"results":"18","hashOfConfig":"15"},{"size":2509,"mtime":1704173965852,"results":"19","hashOfConfig":"15"},{"size":6940,"mtime":1704100985247,"results":"20","hashOfConfig":"15"},{"size":10304,"mtime":1704168703932,"results":"21","hashOfConfig":"15"},{"size":3647,"mtime":1704102812315,"results":"22","hashOfConfig":"15"},{"size":272,"mtime":1704088536981,"results":"23","hashOfConfig":"15"},{"size":2132,"mtime":1704164763177,"results":"24","hashOfConfig":"15"},{"size":375,"mtime":1704042491284,"results":"25","hashOfConfig":"15"},{"size":7010,"mtime":1704167755499,"results":"26","hashOfConfig":"15"},{"size":3974,"mtime":1704161705917,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"1jt8e6o",{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"31"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"31"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"31"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\index.js",[],[],["71","72","73","74","75","76"],"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\App.js",["77"],[],"import React from \"react\";\n//import { Routes, Route, BrowserRouter as Router } from \"react-router-dom\";\nimport { Container } from \"reactstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./asset/styles.css\";\nimport { BrowserRouter, Route, Routes, Navigate } from \"react-router-dom\";\n\nimport Dashboard from \"./components/Dashboard\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport LoanApplication from \"./components/LoanApplication\";\nimport AllLoan from \"./components/AllLoan\";\nimport RepayLoan from \"./components/RepayLoan\";\nimport UnauthorisedAccess from \"./common/UnauthorisedAccess\";\n\nconst App = () => {\n  const isTokenPresent = !!localStorage.getItem(\"token\");\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Register />} />\n          <Route path=\"/login\" element={<Login />} />\n          {isTokenPresent ? (\n            <>\n              <Route path=\"/dashboard\" element={<Dashboard />} />\n              <Route path=\"/loan\" element={<LoanApplication />} />\n              <Route path=\"/all_loans/:page\" element={<AllLoan />} />\n              <Route path=\"/repay/:id\" element={<RepayLoan />} />\n            </>\n          ) : (\n            // Redirect to UnauthorisedAccess if the token is not found\n            <Route path=\"*\" element={<Navigate to=\"/unauthorised\" />} />\n          )}\n          <Route path=\"/unauthorised\" element={<UnauthorisedAccess />} />\n        </Routes>\n      </BrowserRouter>\n    </div>\n  );\n};\n\nexport default App;\n","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\Dashboard.js",[],[],"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\Login.js",[],[],"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\Register.js",[],[],"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\LoanApplication.js",[],[],"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\AllLoan.js",["78","79"],[],"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\service.js",["80","81","82"],[],"import { React } from \"react\";\r\nimport { BaseUrl, authHeader } from \"./common/common\";\r\n\r\nasync function LoanList(page, email, role) {\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      authorization: authHeader().Authorization,\r\n    },\r\n  };\r\n  const GetResponse = await fetch(\r\n    BaseUrl + \"api/loans/all\" + \"?page=\" + page + \"&email=\" + email + \"&role=\" + role,\r\n    requestOptions\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n    \r\n  console.log(\"GetResponse\", GetResponse);\r\n  return GetResponse;\r\n}\r\n\r\nasync function changestatus(status, Id) {\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      authorization: authHeader().Authorization,\r\n    },\r\n  };\r\n  \r\n  const GetResponse = await fetch(\r\n    BaseUrl + \"api/loans/changeStatus\" + \"?status=\" + status + \"&Id=\" + Id,\r\n    requestOptions\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n  return GetResponse;\r\n}\r\n\r\nasync function registerUser(name, email, password) {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      name,\r\n      email,\r\n      password,\r\n    }),\r\n  };\r\n  const GetResponse = await fetch(BaseUrl + \"api/register\", requestOptions)\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n  return GetResponse;\r\n}\r\n\r\nasync function loginUser(email, password) {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n    }),\r\n  };\r\n  const GetResponse = await fetch(BaseUrl + \"api/login\", requestOptions)\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n  return GetResponse;\r\n}\r\n\r\nasync function getLoan(newLoan) {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      authorization: authHeader().Authorization,\r\n    },\r\n    body: JSON.stringify({ newLoan }),\r\n  };\r\n  const GetResponse = await fetch(BaseUrl + \"api/loans\", requestOptions)\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n  return GetResponse;\r\n}\r\n\r\nasync function GetLoanDetail(id) {\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      authorization: authHeader().Authorization,\r\n    },\r\n  };\r\n  const GetResponse = await fetch(\r\n    BaseUrl + \"api/loans/GetLoanDetail?\" + id,\r\n    requestOptions\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n  return GetResponse;\r\n}\r\n\r\nasync function PayLoan(id, payment, date) {\r\n  const requestOptions = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      authorization: authHeader().Authorization,\r\n    },\r\n    body: JSON.stringify({\r\n      payment,\r\n      date,\r\n    }),\r\n  };\r\n  \r\n  const GetResponse = await fetch(\r\n    BaseUrl + \"api/loans/PayLoan?\" + id,\r\n    requestOptions\r\n  )\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n  return GetResponse;\r\n}\r\n\r\nexport { LoanList, changestatus, registerUser, loginUser, getLoan, GetLoanDetail, PayLoan};\r\n","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\common\\common.js",[],[],"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\common\\AdminHeader.js",[],[],"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\reportWebVitals.js",[],[],"C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\components\\RepayLoan.js",["83","84"],[],"import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams, Link } from \"react-router-dom\";\r\nimport { GetLoanDetail, PayLoan } from \"../service\";\r\nimport AdminHeader from \"../common/AdminHeader\";\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport { NumericFormat } from \"react-number-format\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst AllLoan = () => {\r\n  const [modal, setModal] = useState(false);\r\n  const [data, setData] = useState(null);\r\n  const [loader, setLoader] = useState(false);\r\n  const [payment, setPayment] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  let notication = \"\";\r\n\r\n  let { id } = useParams();\r\n\r\n  const toggle = () => {\r\n    setModal(!modal);\r\n  };\r\n\r\n  const notify = (val, status) => {\r\n    status\r\n      ? toast.update(val, {\r\n          render: \"Saved Successfully\",\r\n          type: \"success\",\r\n          isLoading: false,\r\n          autoClose: 2000,\r\n          onClose: () => navigate(\"/all_loans/1\"),\r\n        })\r\n      : toast.update(val, {\r\n          render: `Payment amount will be greate than weekly payment amount ${data.weekly_payment}`,\r\n          type: \"error\",\r\n          isLoading: false,\r\n          autoClose: 2000,\r\n        });\r\n  };\r\n\r\n  const _GetLoan = () => {\r\n    var result = GetLoanDetail(id);\r\n    result.then((response) => {\r\n      setData(response.data);\r\n      setLoader(false);\r\n    });\r\n  };\r\n\r\n  const handlePayment = () => {\r\n    notication = toast.loading(\"Please wait...\");\r\n    if (payment >= data.weekly_payment) {\r\n      const Date = data.dueDate;\r\n      PayLoan(id, payment, Date).then((data) => {\r\n        if (data.success) {\r\n          notify(notication, true);\r\n        }\r\n      });\r\n    } else {\r\n      notify(notication, false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoader(true);\r\n    _GetLoan(id);\r\n  }, [id]);\r\n\r\n  const formatDate = (dateString, daysToAdd) => {\r\n    const dateObject = new Date(dateString);\r\n\r\n    // Add the specified number of days to the date\r\n    dateObject.setDate(dateObject.getDate() + daysToAdd);\r\n\r\n    const formattedDate = `${(dateObject.getMonth() + 1)\r\n      .toString()\r\n      .padStart(2, \"0\")}-${dateObject\r\n      .getDate()\r\n      .toString()\r\n      .padStart(2, \"0\")}-${dateObject.getFullYear()}`;\r\n    return formattedDate;\r\n  };\r\n  return (\r\n    <>\r\n      {loader ? (\r\n        <>\r\n          <div className=\"loader-setting\">\r\n            <div\r\n              className=\"spinner-border d-flex align-items-center justify-content-center\"\r\n              role=\"status\"\r\n            ></div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <main>\r\n            <div id=\"main\" className=\"pb-0\">\r\n              <div className=\"main-wrap\">\r\n                <div className=\"container pt-4 pb-5\">\r\n                  <AdminHeader />\r\n                  <div className=\"row  submission-rowwrap\">\r\n                    <div className=\"col-md-12\">\r\n                      <div className=\"card dashboard-box addagent-datatable submissions-tabs-view\">\r\n                        <h3 className=\"h3-wrapheading mt-2 mb-4 pb-2  text-start\">\r\n                          Repayment\r\n                        </h3>\r\n                        <div className=\"col-sm-12\">\r\n                          <div className=\"viewagent-datatable table-responsive\">\r\n                            <table className=\"table\" id=\"table-width\">\r\n                              <thead>\r\n                                <tr>\r\n                                  <th scope=\"col\">Policy Name</th>\r\n                                  <th scope=\"col\">Loan Amount</th>\r\n                                  <th scope=\"col\">Balance Amount</th>\r\n                                  <th scope=\"col\">Weekly Payment</th>\r\n                                  <th scope=\"col\">Weekly Payment Date</th>\r\n                                  <th scope=\"col\" width=\"10%\">\r\n                                    Action\r\n                                  </th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                {data && data?.length !== 0 && (\r\n                                  <>\r\n                                    <tr>\r\n                                      <td>{data.policyname}</td>\r\n                                      <td>{data.loan_amount}</td>\r\n                                      <td>{data.balance_amount}</td>\r\n                                      <td>\r\n                                        {(\r\n                                          data.balance_amount / data.loan_term\r\n                                        ).toFixed(2)}\r\n                                      </td>\r\n                                      <td>{formatDate(data.dueDate, 0)}</td>\r\n                                      <td>\r\n                                        <button onClick={toggle}>Pay</button>\r\n                                      </td>\r\n                                    </tr>\r\n                                  </>\r\n                                )}\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </main>\r\n          <Modal isOpen={modal} toggle={toggle}>\r\n            <ModalHeader toggle={toggle}>Loan Amount to be Paid</ModalHeader>\r\n            <ModalBody>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"weeklyPayment\">Weekly Payment:</label>\r\n                {data && data.loan_term === 1 ? (\r\n                  <input\r\n                    className=\"form-control default-input\"\r\n                    type=\"text\"\r\n                    id=\"loan_amount\"\r\n                    name=\"loan_amount\"\r\n                    value={data.weekly_payment}\r\n                    readOnly // Make the input read-only if data.loan_term is 1\r\n                  />\r\n                ) : (\r\n                  <NumericFormat\r\n                    inputMode=\"numeric\"\r\n                    autoComplete=\"off\"\r\n                    className=\"form-control default-input\"\r\n                    type=\"text\"\r\n                    id=\"loan_amount\"\r\n                    name=\"loan_amount\"\r\n                    defaultValue={data ? data.weekly_payment : 0}\r\n                    onChange={(e) => setPayment(e.target.value)}\r\n                  />\r\n                )}\r\n              </div>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <button\r\n                className=\"btn btn-primary btn-lg\"\r\n                onClick={handlePayment}\r\n              >\r\n                Pay\r\n              </button>\r\n            </ModalFooter>\r\n          </Modal>\r\n          <ToastContainer />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllLoan;\r\n","C:\\Users\\moham\\OneDrive\\Desktop\\React App\\App\\src\\common\\UnauthorisedAccess.js",[],[],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":3,"column":10,"nodeType":"99","messageId":"100","endLine":3,"endColumn":19},{"ruleId":"97","severity":1,"message":"101","line":5,"column":8,"nodeType":"99","messageId":"100","endLine":5,"endColumn":17},{"ruleId":"102","severity":1,"message":"103","line":30,"column":6,"nodeType":"104","endLine":30,"endColumn":12,"suggestions":"105"},{"ruleId":"97","severity":1,"message":"106","line":1,"column":10,"nodeType":"99","messageId":"100","endLine":1,"endColumn":15},{"ruleId":"107","severity":1,"message":"108","line":13,"column":31,"nodeType":"109","messageId":"110","endLine":13,"endColumn":32},{"ruleId":"107","severity":1,"message":"108","line":37,"column":40,"nodeType":"109","messageId":"110","endLine":37,"endColumn":41},{"ruleId":"97","severity":1,"message":"111","line":2,"column":34,"nodeType":"99","messageId":"100","endLine":2,"endColumn":38},{"ruleId":"102","severity":1,"message":"112","line":66,"column":6,"nodeType":"104","endLine":66,"endColumn":10,"suggestions":"113"},"dot-location",[],"new-parens",[],"no-mixed-operators",[],"no-new-object",["114"],"no-whitespace-before-property",[],"rest-spread-spacing",[],"no-unused-vars","'Container' is defined but never used.","Identifier","unusedVar","'RepayLoan' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: '_LoanList', 'email', and 'role'. Either include them or remove the dependency array.","ArrayExpression",["115"],"'React' is defined but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'Link' is defined but never used.","React Hook useEffect has a missing dependency: '_GetLoan'. Either include it or remove the dependency array.",["116"],"no-object-constructor",{"desc":"117","fix":"118"},{"desc":"119","fix":"120"},"Update the dependencies array to be: [_LoanList, email, page, role]",{"range":"121","text":"122"},"Update the dependencies array to be: [_GetLoan, id]",{"range":"123","text":"124"},[887,893],"[_LoanList, email, page, role]",[1921,1925],"[_GetLoan, id]"]